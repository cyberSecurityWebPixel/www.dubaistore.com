window.initFodooleConfig=function(){window.fodoole=window.fodoole||{},window.fodoole.state=fodoole.state||{},window.fodoole.state.contentServed=!1,window.fodoole.state.recommendationServed=!1,window.fodoole.config={analyticsEndpoint:"https://fodoole-web-analytics-qfan6cresq-ew.a.run.app/log",recommendationEndpoint:"https://fodoole-web-analytics-qfan6cresq-ew.a.run.app/recommended",searchEndpoint:"https://fodoole-web-analytics-qfan6cresq-ew.a.run.app/search-results",telemetryEndpoint:"https://fodoole-web-analytics-qfan6cresq-ew.a.run.app/telemetry",searchAnalyticsEndpoint:"https://fodoole-web-analytics-qfan6cresq-ew.a.run.app/search-logging",projectId:"33810467591",contentServingId:"0",contentId:"-",enableContentGeneration:!1,idleTime:3e5,gtagIntegrationEnabled:!1,gtagLabels:[],clickEvents:[{value:"#product-main-button-panel > div.js-addToCartContainer > button",label:"ADD_TO_CART"},{value:"div.product-main-image.js-productMainImage div.vertical-thumbnails.js-verticalThumbnails.border-left-product ul.nav.flexi-nav.vertical-thumbnails-list.js-productThumbs.js-verticalThumbnailsList li,div.vertical-thumbnails.js-verticalThumbnails.border-left-product > ul > li",label:"PRODUCT_THUMBNAIL"},{value:"div.image-gallery.js-gallery.js-pdp-image-viewer > div > div > div.owl-carousel.owl-theme.carousel.js-gallery-image.owl-loaded.owl-drag > div.owl-stage-outer > div > div.owl-item.active > div",label:"PRODUCT_PHOTO_ZOOM"}],scrollEvents:[{value:".product-name",label:"SCROLL_TITLE"},{value:".product-specifications,#description-collapse > div",label:"SCROLL_DESCRIPTION"}],rawContentSelectors:[],contentSelectors:{},titleContent:"",searchAnalyticsEnabled:!1,searchAutoCompleteEnabled:!1,searchBoxSelector:"",autoCompleteSelector:"",searchClickEvents:[],checkoutAmountSelector:"#checkout > div:nth-child(2) > div > div:nth-child(2) > div > div > div.col-md-4 > div.js-cart-summary.shari-card-summary.checkout-card.cart-summary-row > div > div.padd15 > div.row.shari-total-row.shari-cart-total.cart-estimated-total.cart-total > span.col-sm-8.col-xs-6.zeropadding.shari-bold-text.tshp-price.grandTotal.no-paddings",postRenderFunction:function(){}},window.fodoole.state={sessionId:null,isResetSession:!1,shouldRunServingCallback:window.fodoole.state.shouldRunServingCallback||new Set,lastTabExitTime:0,fodooleDeviceId:null,lastIdleTime:Date.now(),shouldPushEventsToGA4:fodoole.config.gtagIntegrationEnabled&&fodoole.config.enableContentGeneration&&typeof gtag=="function",debounceTime:500,debouncedEvents:[],recommendationContent:window.fodoole.state.recommendationContent||{},recommendationSelectors:window.fodoole.state.recommendationSelectors||{},scrollObservedElements:[],searchValue:window.fodoole.state.searchValue||null,lastSearchValue:window.fodoole.state.lastSearchValue||null,searchBoxes:window.fodoole.state.searchBoxes||[],boundSearchBoxes:window.fodoole.state.boundSearchBoxes||[],boundSearchAnalyticsAutoComplete:window.fodoole.state.boundSearchAnalyticsAutoComplete||[],cachedSearchItems:window.fodoole.state.cachedSearchItems||{items:[],query:""},mainThreadTimeCore:null,mainThreadTimeSearch:null,contentReplacementTime:null,postRenderRan:!1,asyncContentSelectors:window.fodoole.state.asyncContentSelectors||{},isCheckoutPage:window.location.href.includes("checkout")}},function(){if(window.initFodooleConfig(),fodoole.setLanguageCode=function(){const e=document.documentElement.lang||"en";fodoole.state.languageCode=e.split("-")[0]},fodoole.prepareSelectors=function(){if(fodoole.setLanguageCode(),fodoole.config.rawContentSelectors.length>0){const e=fodoole.config.rawContentSelectors;for(let t=0;t<e.length;t++)e[t].path==="html > head > title"||e[t].path==="head > title"?fodoole.config.titleContent=e[t].value:fodoole.config.contentSelectors[e[t].path]=e[t].value}fodoole.state.recommendationContent[fodoole.state.languageCode]?fodoole.state.recommendationSelectors=fodoole.state.recommendationContent[fodoole.state.languageCode]:fodoole.state.recommendationSelectors=fodoole.state.recommendationContent},fodoole.prepareSelectors(),fodoole.onLoad=function(e){document.body===null?document.addEventListener("DOMContentLoaded",function(){e()},!1):e()},fodoole.beforeUnload=function(e){window.addEventListener("beforeunload",function(){e()},!1)},fodoole.BodyMutationObserverManager=class{static observer=null;static callbackQueue=[];static init(){fodoole.BodyMutationObserverManager.observer||(fodoole.BodyMutationObserverManager.observer=new MutationObserver(fodoole.BodyMutationObserverManager.handleMutations),fodoole.onLoad(function(){fodoole.BodyMutationObserverManager.observer.observe(document.body,{childList:!0,subtree:!0})}))}static handleMutations(e){e.forEach(e=>{fodoole.BodyMutationObserverManager.callbackQueue.forEach(e=>{e.callback()})})}static addCallback(e,t=null){let n=fodoole.BodyMutationObserverManager.callbackQueue.some(e=>e.id===t);typeof e=="function"&&t!==null&&!n&&fodoole.BodyMutationObserverManager.callbackQueue.push({callback:e,id:t})}static removeCallback(e){fodoole.BodyMutationObserverManager.callbackQueue=fodoole.BodyMutationObserverManager.callbackQueue.filter(t=>t.id!==e)}},fodoole.BodyMutationObserverManager.init(),fodoole.contentServingCallback=function(){if(!fodoole.state.postRenderRan&&Object.keys(fodoole.state.asyncContentSelectors).length===0&&(fodoole.state.postRenderRan=!0,fodoole.config.postRenderFunction()),!fodoole.state.contentServed){if(!fodoole.state.isResetSession){const t=new fodoole.TelemetryMetric("CONTENT_REPL_TIME",performance.now()-fodoole.state.contentReplacementTime),e=new fodoole.TelemetryArray;e.push(t),fodoole.config.enableContentGeneration&&e.pushEvents()}fodoole.state.sessionId||(fodoole.state.sessionId=String(fodoole.randInt()));const e=new fodoole.PageAnalyticsEvent("CONTENT_SERVED",null,null,null);e.pushEvent(),fodoole.state.contentServed=!0,fodoole.state.shouldPushEventsToGA4&&gtag("event","FODOOLE_CONTENT_SERVED",{content_id:fodoole.config.contentId})}},fodoole.secondaryContentServingCallback=function(){if(!fodoole.state.recommendationServed){const e=new fodoole.PageAnalyticsEvent("RECOMMENDATION_SERVED",null,"SIMILAR_ITEMS",null);e.pushEvent(),fodoole.state.recommendationServed=!0}},fodoole.renderContent=function(e,t){fodoole.state.asyncContentSelectors=fodoole.state.asyncContentSelectors||{},fodoole.state.contentReplacementTime||(fodoole.state.contentReplacementTime=performance.now());const s=Object.keys(e).length;let n=fodoole.state.shouldRunServingCallback.has(t);for(const t in e)if(e.hasOwnProperty(t)){const s=document.querySelectorAll(t);s.forEach(function(s){const o=e[t];let i=o;o.hasOwnProperty("replace_text")&&(i=o.replace_text);const a=s.innerHTML;s.innerHTML=i,a!==i&&(n=!0),fodoole.state.asyncContentSelectors[t]&&delete fodoole.state.asyncContentSelectors[t]}),s.length===0&&(fodoole.state.asyncContentSelectors[t]=e[t])}t&&typeof t=="function"&&s>0&&n&&(t(),fodoole.state.shouldRunServingCallback.add(t))},fodoole.asyncRenderContent=function(){fodoole.BodyMutationObserverManager.addCallback(function(){Object.keys(fodoole.state.asyncContentSelectors).length>0&&(fodoole.renderContent(fodoole.state.asyncContentSelectors,fodoole.contentServingCallback),fodoole.renderTitle())},"render")},fodoole.renderTitle=function(){const e=fodoole.config.titleContent;e&&e!==document.title&&(document.title=e)},fodoole.config.enableContentGeneration){const e=fodoole.config.contentSelectors;document.addEventListener("readystatechange",function(t){t.target.readyState==="interactive"&&e&&(fodoole.renderContent(e,fodoole.contentServingCallback),fodoole.renderTitle())},!1)}fodoole.randInt=function(){const e=1,t=Math.pow(10,16)-1;return Math.floor(Math.random()*(t-e+1))+e},fodoole.getUserDeviceId=function(){if(fodoole.state.fodooleDeviceId)return fodoole.state.fodooleDeviceId;const e=String(fodoole.randInt());if(typeof localStorage=="undefined")return fodoole.state.fodooleDeviceId=e,e;const t=localStorage.getItem("fodoole_uid");return t?(fodoole.state.fodooleDeviceId=t,t):(localStorage.setItem("fodoole_uid",e),fodoole.state.fodooleDeviceId=e,e)},fodoole.debounce=function(e,t){let i=null,n,s,a=function(){clearTimeout(i),n=null,s=null;let e=fodoole.state.debouncedEvents.indexOf(o);e!==-1&&fodoole.state.debouncedEvents.splice(e,1)},r=function(){n=this,s=arguments;let r=a;clearTimeout(i),i=setTimeout(function(){e.apply(n,s),r()},t);let c=fodoole.state.debouncedEvents.indexOf(o);c===-1&&fodoole.state.debouncedEvents.push(o)},c=function(){n&&s&&e.apply(n,s),a()},o={debounced:r,trigger:c,clear:a};return o},fodoole.throttle=function(e,t){const n=function(t){return function(){setTimeout(n,t);try{e.call(null)}catch(e){throw e.toString()}}}(t);setTimeout(n,t)},fodoole.BaseAnalyticsEvent=class{constructor(){this.ts=Date.now(),this.pid=fodoole.state.sessionId,this.endpoint=null}pushEvent(){if(!this.endpoint)return;const e=window.location.hash;e==="#fodoole-dev"&&console.log(this);const t={event:this},n=JSON.stringify(t);navigator.sendBeacon(this.endpoint,n),fodoole.state.shouldPushEventsToGA4&&this.t==="CLICK"&&fodoole.config.gtagLabels.includes(this.l)&&gtag("event","FODOOLE_CLICK",{event_label:this.l,content_id:fodoole.config.contentId})}},fodoole.PageAnalyticsEvent=class extends fodoole.BaseAnalyticsEvent{constructor(e,t,n,s){super(),this.t=e,this.v=t,this.l=n,this.edp=s,this.u=window.location.href,this.ua=navigator.userAgent,this.r=document.referrer,this.p=fodoole.config.projectId,this.csrvid=fodoole.config.contentServingId,this.cid=fodoole.config.contentId,this.uid=fodoole.getUserDeviceId(),this.endpoint=fodoole.config.analyticsEndpoint,this.npdp=!fodoole.config.enableContentGeneration}},fodoole.SearchAnalyticsEvent=class extends fodoole.BaseAnalyticsEvent{constructor(e,t,n,s,o=-1){super(),this.t=e,this.l=t,this.q=n,this.ti=s,this.idx=o,this.endpoint=fodoole.config.searchAnalyticsEndpoint}},fodoole.TelemetryMetric=class{constructor(e,t){this.n=e,this.v=t,this.ts=Date.now(),this.csrvid=fodoole.config.contentServingId}},fodoole.TelemetryArray=class extends Array{constructor(){super()}pushEvents(){const e=window.location.hash;e==="#fodoole-dev"&&this.forEach(e=>{console.log(e)});const t={telemetryMetrics:this},n=JSON.stringify(t);navigator.sendBeacon(fodoole.config.telemetryEndpoint,n),this.length=0}},fodoole.bindClickEventsToElements=function(e){e.forEach(function(e){const s=e.label,n=e.value,t=document.querySelectorAll(n);for(let e=0;e<t.length;e++)t[e].hasAttribute("data-fodoole-click-bound")||(t[e].setAttribute("data-fodoole-click-bound","true"),t[e].addEventListener("click",fodoole.debounce(function(){const e=new fodoole.PageAnalyticsEvent("CLICK",null,s,n);e.pushEvent()},fodoole.state.debounceTime).debounced))})},fodoole.getElementPath=function(e){let t=[];for(;e;){let n=e.nodeName.toLowerCase();e.id?n+="#"+e.id:e.className&&typeof e.className=="string"&&(n+="."+e.className.split(" ").join(".")),t.unshift(n),e=e.parentNode}return t.join(" > ")},fodoole.bindDocumentClicks=function(){document.addEventListener("click",fodoole.debounce(function(e){const t=fodoole.getElementPath(e.target),n="CLICK_NON_PDP",s=new fodoole.PageAnalyticsEvent("CLICK",null,n,t);s.pushEvent()},fodoole.state.debounceTime).debounced)},fodoole.bindCheckoutEventsToElements=function(){function e(e){const t=parseFloat(e.replace(/[^0-9.]/g,""))||0,n=new fodoole.PageAnalyticsEvent("CHECKOUT",t,null,null);n.pushEvent()}if(fodoole.config.checkoutAmountSelector){const t=document.querySelectorAll(fodoole.config.checkoutAmountSelector);for(let n=0;n<t.length;n++)if(!t[n].hasAttribute("data-fodoole-checkout-bound")){t[n].setAttribute("data-fodoole-checkout-bound","true"),e(t[n].innerText);const s=new MutationObserver(function(t){t.forEach(function(t){t.target.innerText&&e(t.target.innerText)})});s.observe(t[n],{childList:!0,subtree:!0,characterData:!0})}}},fodoole.bindScrollEventsToElements=function(e){e.forEach(function(e){const t=e.label,n=e.value,s=document.querySelectorAll(n);for(let e=0;e<s.length;e++){const o=new IntersectionObserver((e,s)=>{e.forEach(e=>{if(e.isIntersecting){if(!fodoole.state.scrollObservedElements.includes(t)){const e=new fodoole.PageAnalyticsEvent("SCROLL",null,t,n);e.pushEvent(),fodoole.state.scrollObservedElements.push(t)}s.unobserve(e.target),s=null}})},{threshold:.5});o.observe(s[e])}})},fodoole.bindSearchBoxEventsToElements=function(e){const t=document.querySelectorAll(e);for(let e=0;e<t.length;e++)t[e].hasAttribute("data-fodoole-search-bound")||(t[e].setAttribute("data-fodoole-search-bound","true"),t[e].addEventListener("input",fodoole.debounce(function(){fodoole.state.searchValue=t[e].value;const n=new fodoole.SearchAnalyticsEvent("SEARCH_QUERY",null,fodoole.state.searchValue.trim(),null,-1);fodoole.state.searchValue.trim()!==""&&fodoole.state.searchValue.trim()!==fodoole.state.lastSearchValue&&(n.pushEvent(),fodoole.state.lastSearchValue=fodoole.state.searchValue.trim())},fodoole.state.debounceTime).debounced))},fodoole.bindClickEvents=function(e){fodoole.BodyMutationObserverManager.addCallback(function(){fodoole.bindClickEventsToElements(e)},"click"),fodoole.bindClickEventsToElements(e)},fodoole.bindScrollEvents=function(e){fodoole.BodyMutationObserverManager.addCallback(function(){fodoole.bindScrollEventsToElements(e)},"scroll"),fodoole.bindScrollEventsToElements(e)},fodoole.bindCheckoutEvents=function(){fodoole.BodyMutationObserverManager.addCallback(function(){fodoole.bindCheckoutEventsToElements()},"checkout"),fodoole.bindCheckoutEventsToElements()},fodoole.bindSearchBoxEvents=function(e){fodoole.BodyMutationObserverManager.addCallback(function(){fodoole.bindSearchBoxEventsToElements(e)},"search"),fodoole.bindSearchBoxEventsToElements(e)},fodoole.bindSearchResultEvents=function(e){function t(e){fodoole.config.searchClickEvents.forEach(function(t){const n=e.target.closest(t.value);if(n){const e=Array.from(n.parentElement.children).filter(e=>e.matches(t.value)).indexOf(n),s=n.querySelector(t.title).innerText,o=new fodoole.SearchAnalyticsEvent("SEARCH_RESULT_CLICK",t.label,fodoole.state.searchValue,s,e);o.pushEvent()}})}const n=document.querySelectorAll(e);n.forEach(function(e){fodoole.state.boundSearchAnalyticsAutoComplete.includes(e)||(e.addEventListener("click",t),fodoole.state.boundSearchAnalyticsAutoComplete.push(e))});const s=new MutationObserver(function(n){n.forEach(function(n){if(n.type==="childList"){const n=document.querySelectorAll(e);n.forEach(function(e){fodoole.state.boundSearchAnalyticsAutoComplete.includes(e)||(e.addEventListener("click",t),fodoole.state.boundSearchAnalyticsAutoComplete.push(e))})}n.removedNodes.length>0&&n.removedNodes.forEach(function(e){e.nodeType===Node.ELEMENT_NODE&&fodoole.state.boundSearchAnalyticsAutoComplete.includes(e)&&(fodoole.state.boundSearchAnalyticsAutoComplete=fodoole.state.boundSearchAnalyticsAutoComplete.filter(function(t){return t!==e}))})})});s.observe(document.body,{childList:!0,subtree:!0})},fodoole.resetIdleTimer=function(e){clearTimeout(fodoole.state.idleTimer),document.hidden||(fodoole.state.idleTimer=setTimeout(function(){const t=new fodoole.PageAnalyticsEvent("IDLE",e,null,null),n=Date.now()-fodoole.state.lastIdleTime>=e;!document.hidden&&n&&(t.pushEvent(),fodoole.state.lastIdleTime=Date.now(),fodoole.resetSession())},e))},fodoole.bindIdleTimeEvents=function(e){function t(){fodoole.resetIdleTimer(e)}document.addEventListener("mousemove",t),document.addEventListener("keypress",t),document.addEventListener("touchmove",t),document.addEventListener("scroll",t),document.addEventListener("click",t),document.addEventListener("keyup",t),document.addEventListener("touchstart",t),document.addEventListener("touchend",t),document.addEventListener("visibilitychange",t)},fodoole.bindTabEvents=function(){document.addEventListener("visibilitychange",function(){if(document.hidden){fodoole.state.lastTabExitTime=Date.now();const e=new fodoole.PageAnalyticsEvent("TAB_SWITCH",null,"EXIT",null);e.pushEvent()}else if(fodoole.tabSwitchCausesReset())fodoole.resetSession();else{const e=new fodoole.PageAnalyticsEvent("TAB_SWITCH",null,"RETURN",null);e.pushEvent()}})},fodoole.tabSwitchCausesReset=function(){const e=Date.now()-fodoole.state.lastTabExitTime;return e>=fodoole.config.idleTime},fodoole.initResetCommon=function(e){e==="RESET"&&(fodoole.state.isResetSession=!0),fodoole.state.sessionId||(fodoole.state.sessionId=String(fodoole.randInt())),fodoole.config.contentSelectors&&fodoole.config.enableContentGeneration&&(fodoole.renderContent(fodoole.config.contentSelectors,fodoole.contentServingCallback),fodoole.renderTitle()),fodoole.state.recommendationSelectors&&fodoole.renderContent(fodoole.state.recommendationSelectors,fodoole.secondaryContentServingCallback),fodoole.resetIdleTimer(fodoole.config.idleTime),fodoole.bindScrollEvents(fodoole.config.scrollEvents);const t=new fodoole.PageAnalyticsEvent("PAGE_VIEW",null,e,null);fodoole.state.shouldPushEventsToGA4&&!fodoole.state.contentServed&&gtag("event","FODOOLE_ORIGINAL_SERVED",{content_id:fodoole.config.contentId}),document.visibilityState==="visible"?t.pushEvent():document.addEventListener("visibilitychange",function e(){fodoole.state.lastTabExitTime=Date.now(),document.visibilityState==="visible"&&(t.pushEvent(),document.removeEventListener("visibilitychange",e))})},fodoole.commonRequestBody={projectId:fodoole.config.projectId,pageUrl:window.location.href,userDeviceId:fodoole.getUserDeviceId(),referrerUrl:document.referrer,languageTag:fodoole.state.languageCode,contentServingId:fodoole.config.contentServingId,locale:navigator.language,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone},fodoole.getRequestParameters=function(){const e=new URLSearchParams({...fodoole.commonRequestBody,eventType:"detail-page-view"});return e.toString()},fodoole.sendRequestForRecommendation=function(){const e=`${fodoole.config.recommendationEndpoint}?${fodoole.getRequestParameters()}`;fetch(e).then(e=>e.json()).then(e=>{fodoole.state.recommendationContent=e,fodoole.prepareSelectors(),fodoole.renderContent(fodoole.state.recommendationSelectors,fodoole.secondaryContentServingCallback)}).catch(e=>console.error("Error: ",e))},fodoole.getNetworkType=function(){const e=navigator.connection||navigator.mozConnection||navigator.webkitConnection,n={"slow-2g":.1,"2g":.2,"3g":.3,"4g":.4},t={none:0,ethernet:1,wifi:2,cellular:3,bluetooth:4,wimax:5,other:6,unknown:7},s=n[e.effectiveType]||0,o=t[e.networkType]!==void 0?t[e.networkType]:8;return s+o},fodoole.camelToSnake=function(e){return e.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`).toUpperCase()},fodoole.initSession=function(){fodoole.state.sessionId||(fodoole.state.sessionId=String(fodoole.randInt())),fodoole.onLoad(function(){const t=new fodoole.TelemetryArray;if(window.fodooleLoadStartTime){const e=new fodoole.TelemetryMetric("SCRIPT_LOAD_TIME",performance.now()-window.fodooleLoadStartTime);t.push(e)}if(fodoole.state.mainThreadTimeCore=performance.now(),fodoole.asyncRenderContent(),fodoole.setLanguageCode(),fodoole.initResetCommon("INIT"),fodoole.bindClickEvents(fodoole.config.clickEvents),fodoole.config.enableContentGeneration||(fodoole.bindDocumentClicks(),fodoole.bindCheckoutEvents()),fodoole.bindIdleTimeEvents(fodoole.config.idleTime),fodoole.bindTabEvents(),fodoole.config.searchAnalyticsEnabled&&(!fodoole.config.searchAutoCompleteEnabled||fodoole.state.languageCode!=="en")&&(fodoole.bindSearchBoxEvents(fodoole.config.searchBoxSelector),fodoole.bindSearchResultEvents(fodoole.config.autoCompleteSelector)),fodoole.beforeUnload(function(){for(let e of fodoole.state.debouncedEvents)e.trigger();const t=new fodoole.PageAnalyticsEvent("PAGE_EXIT",null,null,null);t.pushEvent()}),navigator.connection){const e=new fodoole.TelemetryMetric("NETWORK_TYPE",fodoole.getNetworkType());t.push(e)}const[n]=performance.getEntriesByType("navigation"),s=["domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","loadEventEnd","loadEventStart"];for(let e of s){const o=new fodoole.TelemetryMetric("PNT_"+fodoole.camelToSnake(e),n[e]);t.push(o)}if(fodoole.state.mainThreadTimeCore){const e=new fodoole.TelemetryMetric("THREAD_TIME_CORE",performance.now()-fodoole.state.mainThreadTimeCore);t.push(e)}fodoole.config.enableContentGeneration&&t.pushEvents()})},fodoole.resetSession=function(){window.initFodooleConfig(),fodoole.prepareSelectors(),fodoole.initResetCommon("RESET")},fodoole.initSession()}()